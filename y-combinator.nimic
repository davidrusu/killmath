[fork
  [macro [pmacro ?x ?y]
    [fork
      [macro [Y ?g] [macro ?x [fork ?y [fork [Y ?g] ?g]]]]
      [Y [macro [Y ?g] [macro ?x [fork ?y [fork [Y ?g] ?g]]]]]
    ]
  ]
  [pmacro [pmacro ?x ?y]
    [fork
      [macro [Y ?g] [macro ?x [fork ?y [fork [Y ?g] ?g]]]]
      [Y [macro [Y ?g] [macro ?x [fork ?y [fork [Y ?g] ?g]]]]]
    ]
  ]
]

[macro [eat ?x]
  [fork
    [macro [Y ?g] [macro ?x [fork [Y ?g] ?g]]]
    [Y [macro [Y ?g] [macro ?x [fork [Y ?g] ?g]]]]
  ]
]